# 【批次檔】%CD% 與 %~dp0  

* ref: http://inpega.blogspot.com/2012/07/cd-dp0.html  

__%CD%：Current Directory, 當前工作目錄位置__  
__%~dp0：批次檔存在的目錄位置__  
  
請試著執行下面例子感受兩者間的差異：  

```
@ECHO OFF
CLS

REM ================
REM == 先比較效果 ==
REM ================
ECHO ===============================================
ECHO == [Step1] 看起來沒什麼不同, 除了結尾的斜線 ...
ECHO ===============================================
ECHO %%CD%% = %CD%
ECHO %%~dp0 = %~dp0


REM ==========================
REM == 切換工作目錄再做比較 ==
REM ==========================
IF NOT EXIST TEMP MKDIR TEMP
CD TEMP
ECHO ===============================================
ECHO == [Step2] 切換工作目錄後, 發生差異了!
ECHO ===============================================
ECHO %%CD%% = %CD%
ECHO %%~dp0 = %~dp0
CD ..

:CLEAN
RMDIR /S /Q TEMP
```

上面例子可以明確知道：  
  
%~dp0表示批次檔所存在的位置, 是不會因切換工作目錄而改變。  
%CD%表示的是當前工作目錄位置, 如果用CD之類的指令切換工作目錄, 則%CD%會改變成對應的目錄。  
  
關於%~dp0其實是%0參數的衍伸用法（可以使用CALL /?查閱詳細說明）  
首先執行下面例子先看看結果：  


```
@ECHO OFF
CLS

ECHO %%0 = %0
ECHO %%~d0 = %~d0
ECHO %%~p0 = %~p0
ECHO %%~n0 = %~n0
ECHO %%~x0 = %~x0
```